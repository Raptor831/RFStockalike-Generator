var launchIsp={start:[234,260,44.7,67,1,1,null,1],1:[248,275,54.2,81.25,1.15,.95,1.21,1],2:[266,295,66.8,100.25,1.32,.88,1.23,1],3:[279,310,76.3,114.5,1.43,.84,1.14,1],4:[288,320,82.7,124,1.5,.81,1.08,.8],5:[295,327,87.1,130.65,1.55,.8,1.05,.7],6:[299,332,90.3,135.4,1.58,.78,1.04,.6],7:[304,337,93.4,140.15,1.61,.77,1.03,.6]},launchPlusIsp={start:[220,268,38.3,53.6,1,1,null,1],1:[233,283,46.4,65,1.15,.95,1.21,1],2:[250,304,57.3,80.2,1.32,.88,1.23,.8],3:[262,319,65.4,91.6,1.43,.84,1.14,.75],4:[271,330,70.9,99.2,1.5,.81,1.08,.7],5:[277,337,74.6,104.5,1.55,.8,1.05,.65],6:[281,342,77.4,108.3,1.58,.78,1.04,.6],7:[285,347,80.1,112.1,1.62,.77,1.03,.5]},upperIsp={start:[168,280,35.2,44,1,1,null,1],1:[185,308,48.8,61,1.26,.91,1.39,1],2:[195,325,56.8,71,1.39,.86,1.16,1],3:[201,335,61.6,77,1.46,.84,1.08,1],4:[204,340,64,80,1.5,.82,1.04,.8],5:[207,345,66.4,83,1.53,.81,1.04,.75],6:[210,350,68.8,86,1.56,.8,1.04,.7],7:[213,355,71.2,89,1.6,.79,1.03,.6]},upperPlusIsp={start:[102,291,25.4,30.47,1,1,null,1],1:[112,320,38.5,46.2,1.38,.91,1.52,1],2:[118,338,46.2,55.47,1.57,.86,1.2,.75],3:[122,348,50.9,61.02,1.68,.84,1.1,.4],4:[124,354,53.2,63.81,1.72,.82,1.05,.3],5:[126,359,55.5,66.59,1.77,.81,1.04,.2],6:[127,364,57.8,69.36,1.82,.8,1.04,.15],7:[129,369,60.1,72.14,1.87,.79,1.04,.1]},orbitalIsp={start:[100,286,18.9,21.71,1,1,null,1],1:[110,314,25.8,29.71,1.24,.91,1.37,1],2:[116,332,30.3,34.86,1.38,.86,1.17,.75],3:[120,342,32.8,37.71,1.45,.84,1.08,.4],4:[121,347,34,39.14,1.48,.82,1.04,.2],5:[123,352,35.3,40.57,1.52,.81,1.04,.15],6:[125,357,36.5,42,1.55,.8,1.03,.1],7:[127,362,37.8,43.43,1.58,.79,1.04,.1]},solidIsp={start:[200,220,4.347826087,23,1],1:[215,235,5.263157895,19,1],2:[230,250,6.25,16,1],3:[240,260,7.142857143,14,1],4:[245,268,8.333333333,12,1],5:[255,276,10,10,1],6:[260,284,11.11111111,9,1],7:[265,290,12.5,8,1]},solidPlusIsp={start:[160,231,4.761904762,21,1],1:[172,247,5.882352941,17,1],2:[184,263,7.142857143,14,1],3:[192,273,8.333333333,12,1],4:[196,281,10,10,1],5:[204,290,12.5,8,1],6:[208,298,14.28571429,7,1],7:[212,305,16.66666667,6,1]},nuclearIsp={3:[380,850,1.46,1.679,1,1,null,1],4:[391,875,2,2.3,1.33,.97,1.37,1],5:[407,910,2.4241,2.787715,1.55,.93,1.21,1],6:[416,930,4,4.6,2.5,.91,1.65,1],7:[429,960,6,6.9,3.64,.89,1.5,1],8:[452,1010,8,9.2,4.61,.84,1.33,1]},aerospikeIsp={start:[252,280,20.7,28.94175,1,1,null,1],1:[277,308,31.4,43.89,1.38,.91,1.52,1],2:[293,325,37.6,52.6965,1.56,.86,1.2,.8],3:[302,335,41.4,57.969,1.67,.84,1.1,.7],4:[306,340,43.3,60.6195,1.72,.82,1.05,.6],5:[311,345,45.2,63.25575,1.77,.81,1.04,.5],6:[315,350,47.1,65.892,1.82,.8,1.04,.4],7:[320,355,48.9,68.52825,1.86,.79,1.04,.3]},engineTypeConfigs={launch:["L",launchIsp,1,!1],"launch-plus":["L+",launchPlusIsp,2,!1],upper:["U",upperIsp,4,!1],"upper-plus":["U+",upperPlusIsp,12,!0],orbital:["O",orbitalIsp,24,!0],"nuclear-thermal":["N",nuclearIsp,0,!1],solid:["S",solidIsp,1,!0],"solid-plus":["S+",solidPlusIsp,1,!0],aerospike:["A",aerospikeIsp,0,!0],jet:["J",null,0,!0]},doTWR=function(s){s.meta.ksprfs.engine_twr=s.meta.ksprfs.ksprfs_engine_thrust/9.81/s.meta.ksprfs.ksprfs_engine_mass;var e,p,r,t,n;if(r=s.meta.ksprfs.ksprfs_engine_ispslm<1?.9:4,t=s.meta.ksprfs.ksprfs_engine_ispvm<1?1.5:8,n=s.meta.ksprfs.ksprfs_engine_ffsc?1.33:1,e=Math.min(Math.max(Math.pow(s.meta.ksprfs.ksprfs_engine_ispslm,r),.5),10),p=Math.min(Math.max(Math.pow(s.meta.ksprfs.ksprfs_engine_ispvm,t),.5),10),s.meta.ksprfs.engine_gtwr=$scope.engineTypeConfigs[s.meta.ksprfs.ksprfs_type][1][s.meta.ksprfs.ksprfs_engine_tech_level][2]/e/p,s.meta.ksprfs.engine_twr_within_goal=s.meta.ksprfs.engine_twr>.95*s.meta.ksprfs.engine_gtwr&&s.meta.ksprfs.engine_twr<1.05*s.meta.ksprfs.engine_gtwr?!0:!1,"solid"===s.meta.ksprfs.ksprfs_type||"solid-plus"===s.meta.ksprfs.ksprfs_type){s.meta.ksprfs.engine_goal_percent_case=1/s.meta.ksprfs.engine_gtwr*100;var a=parseFloat(s.meta.ksprfs.ksprfs_engine_extra_mass)||0,f=s.meta.ksprfs.ksprfs_engine_mass+a,i=.00178*s.meta.ksprfs.ksprfs_engine_mft_volume+f;s.meta.ksprfs.engine_percent_case=f/i*10,s.meta.ksprfs.engine_percent_case_within_goal=s.meta.ksprfs.engine_percent_case>.95*s.meta.ksprfs.engine_goal_percent_case&&s.meta.ksprfs.engine_percent_case<1.05*s.meta.ksprfs.engine_goal_percent_case?!0:!1}},doIsp=function(s){var e,p;e=$scope.engineTypeConfigs[s.meta.ksprfs.ksprfs_type][1][s.meta.ksprfs.ksprfs_engine_tech_level][1]*s.meta.ksprfs.ksprfs_engine_ispvm,p=$scope.engineTypeConfigs[s.meta.ksprfs.ksprfs_type][1][s.meta.ksprfs.ksprfs_engine_tech_level][0]*s.meta.ksprfs.ksprfs_engine_ispslm,s.meta.ksprfs.ksprfs_engine_ffsc&&(e*=1.07,p*=1.07),s.meta.ksprfs.resultIspV=e,s.meta.ksprfs.resultIspSL=p},doHeat=function(s){var e,p;if("solid"===s.meta.ksprfs.ksprfs_type||"solid-plus"===s.meta.ksprfs.ksprfs_type?(e=Math.pow(s.meta.ksprfs.ksprfs_engine_mft_volume*s.meta.ksprfs.resultIspV/4/9.81/s.meta.ksprfs.ksprfs_engine_thrust+20,.75),s.meta.ksprfs.engine_heat=Math.round(.5*(200+5200/e))):(e=135*Math.pow(s.meta.ksprfs.resultIspSL/200,.7)*Math.pow(s.meta.ksprfs.engine_twr/s.meta.ksprfs.engine_gtwr,.5),"nuclear-thermal"===s.meta.ksprfs.ksprfs_type&&(e*=1.25),s.meta.ksprfs.engine_heat=e),"solid"!==s.meta.ksprfs.ksprfs_type&&"solid-plus"!==s.meta.ksprfs.ksprfs_type){var r;p=$scope.engineTypeConfigs[s.meta.ksprfs.ksprfs_type][1][s.meta.ksprfs.ksprfs_engine_tech_level][6],r=Math.pow(500+8*e/p,1.03),s.meta.ksprfs.max_heat=Math.max(1450,Math.min(2400,r))}else s.meta.ksprfs.max_heat=1800;s.meta.ksprfs.max_heat=Math.round(s.meta.ksprfs.max_heat,0)},doConfigs=function(s){var e;for(e=0;e<s.meta.ksprfs.ksprfs_engine_configs.length;e++){var p=$scope.getFuel($scope.getMixture(s.meta.ksprfs.ksprfs_engine_configs[e].config_mixture)).meta.ksprfs.ksprfs_resource_density,r=$scope.getOxidizer($scope.getMixture(s.meta.ksprfs.ksprfs_engine_configs[e].config_mixture)).meta.ksprfs.ksprfs_resource_density,t=s.meta.ksprfs.ksprfs_engine_configs[e].config_ratio;s.meta.ksprfs.ksprfs_engine_configs[e].fuelRatio=1/p/(1/p+t/r)*100,s.meta.ksprfs.ksprfs_engine_configs[e].oxyRatio=100-s.meta.ksprfs.ksprfs_engine_configs[e].fuelRatio;var n,a;n=a=1,doIgnitions(s.meta.ksprfs.ksprfs_engine_configs[e])}},doIgnitions=function(s){var e=$scope.engineTypeConfigs[engine.meta.ksprfs.ksprfs_type][2],p=$scope.engineTypeConfigs[engine.meta.ksprfs.ksprfs_type][3]},displayTechLevel=function(){var s=engine.meta.ksprfs.ksprfs_engine_tech_level;return"start"===s&&(s="0"),s};